@using MudBlazor.Utilities
@inherits LayoutComponentBase

<div class="page">
    <main>
        <div class="top-row px-4">
            <NavMenu DrawerToggleCallback="ToggleDrawer"/>
        </div>
        <MudDrawer Height="100%" @bind-Open="@_drawerOpen" Elevation="25" Variant="@DrawerVariant.Temporary" aria-label="Navigation Drawer">
            <MudToolBar Dense="true" Gutters="false" Class="px-1">
                <MudIconButton Icon="@Icons.Material.Rounded.Close" Color="Color.Inherit" OnClick="@ToggleDrawer" aria-label="Toggle drawer" />
            </MudToolBar>
            <NavMenuItems />
        </MudDrawer>
        <article class="content px-4">
            @Body
        </article>
    </main>
</div>

<div id="blazor-error-ui">
    An unhandled error has occurred.
    <a href="" class="reload">Reload</a>
    <a class="dismiss">🗙</a>
</div>

@* Required *@
<MudThemeProvider Theme="SintLeoTheme" />
<MudPopoverProvider />

@* Needed for dialogs *@
<MudDialogProvider />

@* Needed for snackbars *@
<MudSnackbarProvider />

@code {
    private bool _drawerOpen = false;

    MudTheme SintLeoTheme = new MudTheme
    {
        PaletteLight = new PaletteLight()
        {
            Primary = new MudColor("#004474"),
            Secondary = new MudColor("#B9D8C2"),
            Tertiary = new MudColor("#9AC2C9")
        }
    };

    [Parameter]
    public EventCallback<MouseEventArgs> DrawerToggleCallback { get; set; }

    [Inject]
    public NavigationManager NavigationManager { get; set; } = default!;

    private void ToggleDrawer()
    {
        _drawerOpen = !_drawerOpen;
    }
}