@page "/beheer/leden"
@using SintLeoPannenkoeken.Blazor.Client.Auth
@using SintLeoPannenkoeken.Blazor.Client.Server
@using SintLeoPannenkoeken.Blazor.Client.Server.Contracts

<MasterDetailPage TDto="LidDto"
                  AuthorizedRoles="@($"{Roles.RolesForLeden}")"
                  Title="Leden"
                  DataProvider="@_dataProvider">
    <Columns>
        <PropertyColumn T="LidDto" TProperty="string" Property="x => x.Achternaam" Title="Achternaam" InitialDirection="SortDirection.Ascending" />
        <PropertyColumn T="LidDto" TProperty="string" Property="x => x.Voornaam" Title="Voornaam" />
        <PropertyColumn T="LidDto" TProperty="string" Property="x => x.TakNaam" Title="Tak" />
        <PropertyColumn T="LidDto" TProperty="string" Property="x => x.Functie" Title="Functie" />
    </Columns>
</MasterDetailPage>

@code {
    private Func<IServerData, Task<IEnumerable<LidDto>>> _dataProvider => async (serverData) => await serverData.GetLeden();
}
